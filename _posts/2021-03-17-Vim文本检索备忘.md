---
layout: post
title: Vim文本检索备忘
tags: [vim,linux,搜索,]
category: [运维笔记,]
excerpt: 记录 `vim` 的文本检索方法，以备后查
---


在服务器环境中，使用 `vim` 工具查看文件和日志，是非常常见的操作。在此记录 `vim` 的文本检索方法，以备后查。

## 搜索功能

在 `vim` 的命令模式（就默认的模式）下，输入 `/` 后跟检索关键字，点击回车，即可检索文本内的关键字。  

比如在文本内检索 `error` 关键字：
```
/error

```
被检索到的文字，会高亮显示。无论在何处进行搜索，光标总是停在搜索前光标位置的下一个命中关键字上。

## 快捷键

当再次在命令模式输入 `/` 后，可以使用 方向键↑（上）将恢复上一次搜索的内容。  

关于搜索，有两个快捷键：
1. n
2. N

分别是小写英文字母 `n` 和 大写英文字母 `N`，表示 “下一个” 和 “上一个”。

在进行搜索后，看到第一个高亮关键字。  
此时键入小写英文字母 `n` ，光标即跳至下一个关键词处，若已经是最后一个关键字，则会跳到文本内第一个关键字的位置。  
若此时键入大写英文字母 `N`（即 shift+n ），光标即跳到上一个关键字处，若已经是第一个关键字，则跳到文本内最后一个关键字的位置。

灵活运用，可以使日志查看效率得到极大提升。



## 转义

如果遇到 空格 之类，会被理解为其他命令或者分隔符的字符，可以使用 `\` 进行转义，比如遇到有空格的：

```
/error\ level\ 3
```
上述搜索命令就能搜到 `error level 3` 这样带空格的文本，其他不能直接搜索的字符同理。

实际上 `vim` 的检索是支持正则的，正则部分，此处按下不表，自行百度即可。

